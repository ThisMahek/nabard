<style>
.page-content {padding: calc(70px + 20px) calc(20px / 2) 800px calc(20px / 2)!important;}
.navbar-header {padding: 0 0px 0 0 !important;background: rgba(0, 0, 0, 0) linear-gradient(to right, #667eea 0%, #764ba2 100%) repeat scroll 0 0;}
.header-item {color: #fff!important;}
.navbar-brand-box {background: transparent!important;}
.logo-txt {color:#fff!important;}
#sidebar-menu ul li a {margin: 10px!important;}
#sidebar-menu ul li a:hover {margin:  10px!important;background: #667eea; border-top-right-radius: 50px;border-bottom-right-radius: 50px;color:#fff;box-shadow: 0 0 10px rgb(0 0 0 / 25%);}
#sidebar-menu ul li .active {margin: 10px!important;background: #667eea; border-top-right-radius: 50px;border-bottom-right-radius: 50px;color:#fff!important;box-shadow: 0 0 10px rgb(0 0 0 / 25%);}
#sidebar-menu ul li .active svg {color:#fff!important;}    
#sidebar-menu ul li a:hover>svg{color:#fff;} 
.box-shadow{box-shadow: 0 0 5px 0 #c9c4c4;}
.card{box-shadow: 0 0 10px rgb(0 0 0 / 12%);} 
body[data-sidebar-size=sm] .vertical-menu #sidebar-menu>ul>li>a svg {margin-left: -6px!important;}
.mm-active>a {background: #667eea; margin: 10px!important;border-top-right-radius: 50px;border-bottom-right-radius: 50px;color:#fff!important;box-shadow: 0 0 10px rgb(0 0 0 / 25%);}
.modal-header{background: rgba(0, 0, 0, 0) linear-gradient(to right, #667eea 0%, #764ba2 100%) repeat scroll 0 0;}
.modal-header h5,.modal-header .btn-close {color:#fff;}
.btn_close{    background: transparent;border: none;font-size: 20px;color: #fff;}
.form-group{padding-bottom:10px;}
/*.form-lable{padding-bottom:10px;font-size:15px;font-weight: 500;}*/
.profile-pic {border-radius: 50%;ght: 150px; width:200px;background-size: cover;background-position: center;background-blend-mode: multiply;vertical-align: middle;text-align: center;color: transparent;transition: all .3s ease;text-decoration: none;cursor: pointer;}
.profile-pic:hover {background-color: rgba(0,0,0,.5);z-index: 10000;color: #fff;transition: all .3s ease;text-decoration: none;}
.profile-pic span {display: inline-block;padding-top: 4.5em;padding-bottom: 4.5em;}
#my-profile form input[type="file"] {display: none;cursor: pointer;}
.color-red{color: red;}
#sidebar-menu ul li ul.sub-menu li a:hover {color: #fff!important;}
.buttons-colvis{display:none;}
.dataTables_wrapper .flex-wrap {flex-wrap: initial!important;}
.buttons-html5{margin:0 5px;border-radius: 0.25rem!important;}
.navbar-header .dropdown .show.header-item {background-color: transparent!important;}
.bg-none{background: transparent!important;}
.text-right{text-align:right !important;}
.border-left-green{border-left: 5px solid darkseagreen;}
.border-left-blue{border-left: 5px solid #98A8F8;}
.border-left-violet{border-left: 5px solid #AF7AB3;}
.border-left-pink{border-left: 5px solid #F5C0C0;}
.border-left-yellow{border-left: 5px solid #FBC687;}
.border-left-lightblue{border-left: 5px solid #98D6EA;}
.pt-10{padding-top:10px;}

#sidebar-menu ul li a{
    white-space: nowrap;
    padding: 0.62rem 5px!important;
}
body[data-sidebar-size=sm] .vertical-menu #sidebar-menu>ul>li>a {
    padding: 16px 20px!important;
}
body[data-sidebar-size=sm] .vertical-menu #sidebar-menu>ul>li:hover>ul {
    top: 53px;
}
/*body[data-sidebar-size=sm] .vertical-menu #sidebar-menu>ul>li:hover>a span {*/
/*    color: black;*/
/*}*/
.modal-content{
 border:0;  
}
.view_btn{
    font-weight: 600;
    font-size: 15px;
    float: right; 
}
.color-gold {
    color: #f2ea42;
}
.font_size{
   font-size:14px;
   color:blue;
}
.navbar-header{
        box-shadow: 0 0 6px 2px #e6dede;
}
#datatable-buttons_wrapper{
    overflow-x: scroll!important;
}
.simplebar-wrapper{
    box-shadow: 0 0 6px 2px #e6dede;
}
.select2-container--default .select2-search--dropdown .select2-search__field{
    outline: 0px!important;
}
.select2-container--default .select2-selection--single .select2-selection__rendered{
    outline: 0px!important;
}
.select2-container--open .select2-dropdown--below{
    outline: 0px!important;
}
.select2-search--dropdown{
    outline:0px!important;
}
.select2-container {
    outline: 0px!important;
}
.select2-container--default.select2-container--open.select2-container--below .select2-selection--single, .select2-container--default.select2-container--open.select2-container--below .select2-selection--multiple {
  outline: 0px!important;
}
.select2-container .select2-selection--single{
    outline: 0px!important;
}
.select2-container--default .select2-selection--single .select2-selection__arrow{
    outline: 0px!important;
}
    .common_btn{
    font-weight: 600;
    font-size: 15px;
    float: right;
    }
    .privacy_btn{
    font-weight: 600;
    font-size: 15px;
    float: right;   
    }
    .title_head{
        font-size:18px;
    }
    .form_control{
    box-shadow: 0 0 5px 0 #c9c4c4;
        padding: 14px 15px;
    }
    .imge_categoy{
      width:36px;
      height:36px;
      margin-right:4%;
      border-radius:50%;
    }
    .fom_select{
      box-shadow: 0 0 5px 0 #c9c4c4;
        padding: 14px 15px;  
    }
     .dt-buttons .dt-button{
        color: #fff;
        background-color: #74788d;
        border-color:transparent!important;
        box-shadow: 0 2px 6px 0 rgb(116 120 141 / 50%);
        border-radius:5px;
    }
    .paginate_button{
        color: white!important;
         padding: 5px 8px;
        margin: 0px 5px;
        background: #5156be;
        border-radius: 3px;
        margin-bottom: 10px;
        text-align:center;
        font-size:12px;
        cursor:pointer ;
    }
    div.dataTables_wrapper div.dataTables_paginate{
        margin-bottom:10px;
    }
    #datatable-buttons .disabled{
            background: #5156be75;
    }
    .mobile-responsive{
        display:table
    }
    @media only screen and (max-width: 600px) {
        .paginate_button {
       padding: 2px 5px;
        margin-top: 10px;
    }
    .mobile-responsive{
        display:block;
        overflow-x:scroll;
    }
       .common_btn {
            width: auto!important;
       }
       .title_head {font-size: 12px;}
       .buttons-html5, .buttons-colvis{margin:5px;border-radius:0.25rem!important;}
    }
    .w-50{
           width: 77%!important;
    }


    .paginate_button{
    color: white!important;
     padding: 5px 8px;
    margin: 0px 5px;
    background: #5156be;
    border-radius: 3px;
    margin-bottom: 10px;
    text-align:center;
    font-size:12px;
    cursor:pointer ;
}
div.dataTables_wrapper div.dataTables_paginate{
    margin-bottom:10px;
}
#datatable-buttons .disabled{
        background: #5156be75;
}
.shop-option{
  font-weight:550;
  line-height:24px;
}
.shop-value a{
    color:#495057;
}
@media only screen and (max-width: 600px) {
    .paginate_button {
       padding: 2px 5px;
        margin-top: 10px;
    }
}



.badge.badge-success {
    background-color: #28a745;
}


.badge.badge-warning {
    background-color: orange;
}
.badge.badge-danger {
    background-color: red;
}


</style>

 <!-- ALERT MESSAGE CDN -->
 <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
 <!-- ALERT MESSAGE CDN --> 
<?php
$es=$this->session->userdata('admin_nid');

$mem_dets=$this->db->where('id',$es)->get('admin')->row();
?>
    <header id="page-topbar">
        <div class="navbar-header">
            <div class="d-flex">
                <!-- LOGO -->
                <div class="navbar-brand-box">
                    <a href="<?php echo base_url()?>Admin/index" class="logo logo-dark">
                        <span class="logo-sm">
                            <img src="<?php echo base_url()?>assets/images/Nabard.png" class="pt-10" alt="" height="76">
                            <!--<span class="logo-txt">Nabard</span>-->
                        </span>
                        <span class="logo-lg">
                            <img src="<?php echo base_url()?>assets/images/Nabard.png" class="pt-10" alt="" height="76">
                        </span>
                    </a>
                    <a href="<?php echo base_url()?>Admin/index" class="logo logo-light">
                        <span class="logo-sm">
                           <img src="<?php echo base_url()?>assets/images/Nabard.png" class="pt-10" alt="" height="76">
                        </span>
                        <span class="logo-lg">
                            <img src="<?php echo base_url()?>assets/images/Nabard.png" class="pt-10" alt="" height="76">
                        </span>
                    </a>
                </div>
                <button type="button" class="btn btn-sm px-3 font-size-16 header-item" id="vertical-menu-btn">
                    <i class="fa fa-fw fa-bars"></i>
                </button>
                <!-- App Search-->
                
            </div>
            <div class="d-flex">
                <!--<div class="dropdown d-inline-block d-lg-none ms-2">-->
                <!--    <button type="button" class="btn header-item" id="page-header-search-dropdown"-->
                <!--    data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">-->
                <!--        <i data-feather="search" class="icon-lg"></i>-->
                <!--    </button>-->
                <!--    <div class="dropdown-menu dropdown-menu-lg dropdown-menu-end p-0"-->
                <!--        aria-labelledby="page-header-search-dropdown">-->
                <!--        <form class="p-3">-->
                <!--            <div class="form-group m-0">-->
                <!--                <div class="input-group">-->
                <!--                    <input type="text" class="form-control" placeholder="Search ..." aria-label="Search Result">-->
                <!--                    <button class="btn btn-primary" type="submit"><i class="mdi mdi-magnify"></i></button>-->
                <!--                </div>-->
                <!--            </div>-->
                <!--        </form>-->
                <!--    </div>-->
                <!--</div>-->
                <div class="dropdown d-inline-block">
                    <button type="button" class="btn header-item bg-soft-light border-start border-end" id="page-header-user-dropdown"
                    data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <img class="rounded-circle header-profile-user" src="<?php echo base_url('/'.$mem_dets->profile)?>"
                            alt="Header Avatar">
                        <span class="d-none d-xl-inline-block ms-1 fw-medium"><?php echo ucwords($mem_dets->name); ?></span>
                        <i class="mdi mdi-chevron-down d-none d-xl-inline-block"></i>
                    </button>
                    <div class="dropdown-menu dropdown-menu-end">
                        <!-- item-->
                        <a class="dropdown-item" href="" data-bs-toggle="modal" data-bs-target="#profile"><i class="mdi mdi-face-profile font-size-16 align-middle me-1"></i> Profile</a>
                        <a class="dropdown-item" href="" data-bs-toggle="modal" data-bs-target="#changepswd" ><i class="mdi mdi-lock font-size-16 align-middle me-1"></i> Change Password</a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item color-red" href="<?=base_url('Login/logout'); ?>"><i class="mdi mdi-logout font-size-16 align-middle me-1"></i> Logout</a>
                    </div>
                </div>
            </div>
        </div>
    </header>
            
<!--=================Change Password Modal================-->
<div id="changepswd" class="modal fade" tabindex="-1"  >
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="myModalLabel">Change Password</h5>
                <button type="button" class="btn_close" data-bs-dismiss="modal" ><i class="fa fa-times"></i></button>
            </div>
            <div class="modal-body">
                <?= form_open('Profile/change_pass'); ?>     
                  <div class="form-group">
                      <label class="form-label">Current Password</label>
                      <input type="password" class="form-control form_control"  name="oldpass" placeholder="Enter Current Password" required>
                  </div>
                  <div class="form-group">
                      <label class="form-label">New Password</label>
                      <input type="password" class="form-control form_control" name="pass" oninput="verifyPass()" id="id_password"  value="" placeholder="Enter New Password" required>
                              <div id=""></div>
                  </div>
                  <div class="form-group">
                      <label class="form-label">Confirm New Password</label>
                      <input type="password" class="form-control form_control" oninput="verifyPass()" id="id_password1"   value="" placeholder="Confirm New Password" required>
                                          <div id="passMes_con"></div>

                  </div>
                                  <button type="submit" id="submit" class="btn btn-primary ">Update</button>

              </form>  
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>
<!--======================================================= -->

<script type="text/javascript">

/*  function verifyPass(){
    var pw1 = document.getElementById("psw1").value;
    var pw2 = document.getElementById("psw2").value;
    var mes = document.getElementById("passMes");
    var new_mes = document.getElementById("passMes_new");
    console.log(pw1);
  
  if((pw1 != '' )&&(pw2 == ''))
    {
    mes.innerHTML = "<span style='color: #e53333;font-size:12px;'></span>";
      document.getElementById("btn_submit").disabled = false; 
    // return;
    }
    
    else  if((pw1 == '' )&&(pw2 != ''))
    {
    mes.innerHTML = "<span style='color:#e53333;font-size:12px;'></span>";
      document.getElementById("btn_submit").disabled = false; 
    // return;
    }
    
     else if((pw1 == '' )&&(pw2 == ''))
    {
    mes.innerHTML = "<span style='color:#e53333;font-size:12px;'></span>";
      document.getElementById("btn_submit").disabled = false; 
    // return;
    }
    else if(pw1 == pw2){
      mes.innerHTML = "<span style='color:green;font-size:14px;font-weight:bold;'>*Passwords matched successfully</span>";
      document.getElementById("btn_submit").disabled = false;
    return;
    }
    
    else{
      mes.innerHTML = "<span style='color:#e53333;font-size:12px;'>**Passwords did not matched</span>";
        new_mes.innerHTML = "<span style='color:#e53333;font-size:12px;'></span>";
        document.getElementById("btn_submit").disabled = true;
        return;
       
      
    }
  }
     */
</script>


<!--=================Profile Modal================-->
<div id="profile" class="modal fade" tabindex="-1"  >
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="myModalLabel">Profile</h5>
                <button type="button" class="btn_close" data-bs-dismiss="modal" ><i class="fa fa-times"></i></button>
            </div>
            <div class="modal-body">
               
                     <form method="post" action ="<?= base_url()?>profile/update_profile"  data-on_profile_submit  enctype="multipart/form-data">
                    <div class="col-md-12 text-center">
                        <label for="fileToUpload">
                            <center><img class="profile-pic" id="imgPreview" src="<?php echo base_url('/'.$mem_dets->profile)?>" 
                            style="border:none;height:180px;width:180px;"/></center>
                            <span class="glyphicon glyphicon-camera"></span>
                        </label>
                        <input type="File" name="profile" id="fileToUpload"  onchange="previewPhotoInput(this)" 
                        accept="image/png, image/jpeg, image/jpg" style="display:none;"> 
                    </div>
                    <div class="form-group">
                        <label class="form-label">Name</label>
                        <input type="text" class="form-control form_control" name="name"  data-check_input_field  oninput=" return FullnameValidation(this.value,'name_span','submit_btn')" value="<?php echo ucwords($mem_dets->name); ?>" placeholder="Enter Name" required>
                   <span  id="name_span"  data-message></span>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Designation</label>
                        <input type="text" class="form-control form_control"  data-check_input_field name="designation" value="<?php echo ucwords($mem_dets->designation); ?>"  oninput = " return DesignationValidation(this.value,'designation_span','submit_btn')"  placeholder="Enter Designation" required>
                    <span  id="designation_span"  data-message></span>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Email Id</label>
                        <input type="email" class="form-control form_control"  data-check_input_field  
                        name="email" value="<?php echo $mem_dets->email; ?>" placeholder="Enter Email Id" required>
                         <div id= "alert_message_email"  data-message></div> 
                    </div>


                    <div class="form-group">
                        <label class="form-label">Mobile No.</label>
                        <input type="text" maxlength="10" class="form-control form_control"   data-check_input_field name="mobile" oninput="phonenumberValidation(this.value,'pnumber','submit_btn')" 
                        value="<?php echo $mem_dets->mobile; ?>"  onkeypress="return isNumber(event)"    placeholder="Enter Mobile No" required>
                        <span id="pnumber" style="color:#000;" data-message></span>
                    </div>

                      <div class="form-group">
                        <label class="form-label">Facebook</label>
                        <input  type="url"class="form-control form_control"  data-check_input_field name="facebook" value="<?php echo $mem_dets->facebook ?>" 
                        placeholder="https://example.com" required>
                        <span  id="url_span_facebook"  data-message></span>
                    </div>

                     <div class="form-group">
                        <label class="form-label">Twitter</label>
                        <input type="url" class="form-control form_control"  data-check_input_field name="twitter" value="<?php echo $mem_dets->twitter ?>"
                        placeholder="https://example.com"  required>
                        <span  id="url_span_twitter" data-message></span>
                    </div>

                     <div class="form-group">
                        <label class="form-label">Linked</label>
                        <input  type="url" class="form-control form_control"  data-check_input_field name="linked" value="<?php echo $mem_dets->linked ?>"  
                        placeholder="https://example.com"  required>
                        <span  id="url_span_linked"  data-message></span>
                    </div>

                     <div class="form-group">
                        <label class="form-label">University website</label>
                        <input  type="url" class="form-control form_control" data-check_input_field name="instagram"   placeholder="https://example.com"
                            value="<?php echo $mem_dets->instagram ?>"    required>
                   <span  id="url_span_universite"  data-message></span>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Address</label>
                        <input type="text" class="form-control form_control" name="address" 
                        value="<?php echo $mem_dets->address; ?>" placeholder="Enten your address" required>
                          <span id="address" style="color:#000;"></span>
                    </div>
                    <button type="submit" id="submit_btn"  class="btn btn-primary ">Update</button>

                </form>  
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>
<!--======================================================= -->




<script>

function URLvalidation(vals,msg,btn)
{

    // console.log(vals);
// alert('jek');

//let reg = /(?:https?):\/\/(\w+:?\w*)?(\S+)(:\d+)?(\/|\/([\w#!:.?+=&%!\-\/]))?/;

let reg = /^(https:\/\/.|http:\/\/.)[a-zA-Z0-9\-_$]+\.[a-zA-Z]{2,3}$/;
if(!reg.test(vals))
{
    $("#"+msg).html("<p style='color:red'>Please enter valid URL</p>");
    $("#"+btn).attr('disabled',true);  
 }
else
{
    $("#"+msg).html("");
    $("#"+btn).attr('disabled',false);
}
}
    </script>



 <script>$(document).ready(()=>{
      $('#fileToUpload').change(function(){
        const file = this.files[0];
        console.log(file);
        if (file){
          let reader = new FileReader();
          reader.onload = function(event){
            console.log(event.target.result);
            $('#imgPreview').attr('src', event.target.result);
          }
          reader.readAsDataURL(file);
        }
      });
    });
    
    
      function phonenumberValidation(vals,msg,btn)
{
let reg = /^[6789]{1}[0-9]{9}$/;
  if(vals == '')
     {
         $("#"+msg).html("");
         $("#"+btn).attr('disabled',true);
     }
   else  if(!reg.test(vals))
     {
         $("#"+msg).html("<span style='color:#000;font-size:13px;'>Please enter valid mobile number.</span>");
         $("#"+btn).attr('disabled',true);  
        return;
     }
  
     else{
         $("#"+msg).html("");
         $("#"+btn).attr('disabled',false);  
     }
}

  function emailValidation(vals,msg,btn)
{
let reg =  /^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/;
if(vals=='')
{
    $("#"+msg).html("");
         $("#"+btn).attr('disabled',false);  
     }
else if(!reg.test(vals))
{
    $("#"+msg).html("<span style='color:#000;'>Please enter valid email ID</span>");
         $("#"+btn).attr('disabled',true);  
     }
     else
     {
         $("#"+msg).html("");
         $("#"+btn).attr('disabled',false);
     }
}

</script>




               <script>

                $(`[data-on_profile_submit]`).submit(function()
                {
                let  check_name = $("[data-check_input_field]input[name='name']").val();
                let  check_email = $("[data-check_input_field]input[name='email']").val();
                let  check_designation = $("[data-check_input_field]input[name='designation']").val();
                let  check_mobile = $("[data-check_input_field]input[name='mobile']").val();
                let  check_image = $("[data-check_input_field]input[name='profile']").val();
                let  check_instagram = $("[data-check_input_field]input[name='instagram']").val();
                let  check_linked = $("[data-check_input_field]input[name='linked']").val();
                let  check_twitter = $("[data-check_input_field]input[name='twitter']").val();
                let  check_facebook  = $("[data-check_input_field]input[name='facebook']").val();
          
                
                let  reg_name = /^[a-zA-Z\s]*$/;
                let  reg_email = /\S+@\S+\.\S+/;
                let  reg_mobile = /^[6789]{1}[0-9]{9}$/;
                var  allowedExtensions = /(\.jpg|\.png|\.jpeg)$/;
                let reg_url = /^(https:\/\/.|http:\/\/.)[a-zA-Z0-9\-_$]+\.[a-zA-Z]{2,3}$/;

            
                if (!reg_name.test(check_name)) {
                $("[data-check_input_field]input[name ='name']").siblings("[data-message]").html("<span style='color:red'>Please enter valid  Name</span>");
                return false; 
                } 
                if (!reg_email.test(check_email)) {
                $("[data-check_input_field]input[name='email']").siblings("[data-message]").html("<span style='color:red'>Please enter valid email ID</span>");
                return false; 
                } 
                if (!reg_name.test(check_designation)) {
                $("[data-check_input_field]input[name='designation']").siblings("[data-message]").html("<span style='color:red'>Please enter valid Designation</span>");
                return false; 
                } 
                if (!reg_mobile.test(check_mobile)) {
                $("[data-check_input_field]input[name='mobile']").siblings("[data-message]").html("<span style='color:red'>Please enter valid Mobile</span>");
                return false; 
                } 
              /*   if (!allowedExtensions.test(check_image)) {
                $("[data-check_input_field]input[name='image']").siblings("[data-message]").html("<span style='color:red'>Please upload file having extensions .jpeg, .png, .jpeg only.</span>");
                return false; 
                }  */

                if (!check_facebook.test(reg_url)) {
                $("[data-check_input_field]input[name='facebook']").siblings("[data-message]").html("<span style='color:red'>Please upload file having extensions .jpeg, .png, .jpeg only.</span>");
                return false; 
                } 
                if (!check_twitter.test(reg_url)) {
                $("[data-check_input_field]input[name='twitter']").siblings("[data-message]").html("<span style='color:red'>Please upload file having extensions .jpeg, .png, .jpeg only.</span>");
                return false; 
                } 
                if (!check_linked.test(reg_url)) {
                $("[data-check_input_field]input[name='linked']").siblings("[data-message]").html("<span style='color:red'>Please upload file having extensions .jpeg, .png, .jpeg only.</span>");
                return false; 
                } 
                if (!check_instagram.test(reg_url)) {
                $("[data-check_input_field]input[name='instagram']").siblings("[data-message]").html("<span style='color:red'>Please upload file having extensions .jpeg, .png, .jpeg only.</span>");
                return false; 
                } 
                if(check_image == '') {
                return true; 
                }
              else if (!allowedExtensions.test(check_image)) {
            //  console.log('jjjj');
                $(this).find("[data-check_input_field]input[name='profile']").siblings("[data-message]").html("<span style='color:red'>Please upload file having extensions .jpeg, .png, .jpeg only.</span>");
                return false; 
                } 
              
                this.submit();
                });

                </script>

          
            